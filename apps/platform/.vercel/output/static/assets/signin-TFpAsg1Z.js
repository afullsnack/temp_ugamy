import{r as l,j as e,u as X,c as $,L as C,o as J,t as R,s as I,b as Y}from"./main-sOPGwSMr.js";import{W as Z}from"./welcome-screen-91lwx-NT.js";import{u as ee,a as te,F as se,b as _,c as B,d as F,e as z,f as M}from"./form-DhAcqq7L.js";import{P as S,u as re}from"./index-CchxzTSw.js";import{B as ae}from"./brand-logo-dark-CWU05QYZ.js";import{u as T,c as oe,B as ne}from"./button-CKUIHMt9.js";import{u as ie,c as ce,P as le,a as de,b as A}from"./index-DrNrJU7p.js";import{C as ue}from"./check-DDxlYa6T.js";import{I as L}from"./input-PxwkBy-0.js";import{E as me,a as he}from"./eye-BngHMyIN.js";import"./brand-logo-BgMNygQX.js";import"./createLucideIcon-DpNtYPoD.js";function xe(t){const r=l.useRef({value:t,previous:t});return l.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}function fe(t){const[r,a]=l.useState(void 0);return ie(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const d=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let i,u;if("borderBoxSize"in s){const c=s.borderBoxSize,h=Array.isArray(c)?c[0]:c;i=h.inlineSize,u=h.blockSize}else i=t.offsetWidth,u=t.offsetHeight;a({width:i,height:u})});return d.observe(t,{box:"border-box"}),()=>d.unobserve(t)}else a(void 0)},[t]),r}var k="Checkbox",[be,Ae]=ce(k),[pe,E]=be(k);function ge(t){const{__scopeCheckbox:r,checked:a,children:d,defaultChecked:n,disabled:s,form:i,name:u,onCheckedChange:c,required:h,value:o="on",internal_do_not_use_render:f}=t,[b,v]=de({prop:a,defaultProp:n??!1,onChange:c,caller:k}),[g,y]=l.useState(null),[j,m]=l.useState(null),x=l.useRef(!1),N=g?!!i||!!g.closest("form"):!0,w={checked:b,disabled:s,setChecked:v,control:g,setControl:y,name:u,form:i,value:o,hasConsumerStoppedPropagationRef:x,required:h,defaultChecked:p(n)?!1:n,isFormControl:N,bubbleInput:j,setBubbleInput:m};return e.jsx(pe,{scope:r,...w,children:ye(f)?f(w):d})}var q="CheckboxTrigger",O=l.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:a,...d},n)=>{const{control:s,value:i,disabled:u,checked:c,required:h,setControl:o,setChecked:f,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:g}=E(q,t),y=T(n,o),j=l.useRef(c);return l.useEffect(()=>{const m=s==null?void 0:s.form;if(m){const x=()=>f(j.current);return m.addEventListener("reset",x),()=>m.removeEventListener("reset",x)}},[s,f]),e.jsx(S.button,{type:"button",role:"checkbox","aria-checked":p(c)?"mixed":c,"aria-required":h,"data-state":Q(c),"data-disabled":u?"":void 0,disabled:u,value:i,...d,ref:y,onKeyDown:A(r,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:A(a,m=>{f(x=>p(x)?!0:!x),g&&v&&(b.current=m.isPropagationStopped(),b.current||m.stopPropagation())})})});O.displayName=q;var H=l.forwardRef((t,r)=>{const{__scopeCheckbox:a,name:d,checked:n,defaultChecked:s,required:i,disabled:u,value:c,onCheckedChange:h,form:o,...f}=t;return e.jsx(ge,{__scopeCheckbox:a,checked:n,defaultChecked:s,disabled:u,required:i,onCheckedChange:h,name:d,form:o,value:c,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(O,{...f,ref:r,__scopeCheckbox:a}),b&&e.jsx(K,{__scopeCheckbox:a})]})})});H.displayName=k;var D="CheckboxIndicator",W=l.forwardRef((t,r)=>{const{__scopeCheckbox:a,forceMount:d,...n}=t,s=E(D,a);return e.jsx(le,{present:d||p(s.checked)||s.checked===!0,children:e.jsx(S.span,{"data-state":Q(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...t.style}})})});W.displayName=D;var G="CheckboxBubbleInput",K=l.forwardRef(({__scopeCheckbox:t,...r},a)=>{const{control:d,hasConsumerStoppedPropagationRef:n,checked:s,defaultChecked:i,required:u,disabled:c,name:h,value:o,form:f,bubbleInput:b,setBubbleInput:v}=E(G,t),g=T(a,v),y=xe(s),j=fe(d);l.useEffect(()=>{const x=b;if(!x)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,U=!n.current;if(y!==s&&P){const V=new Event("click",{bubbles:U});x.indeterminate=p(s),P.call(x,p(s)?!1:s),x.dispatchEvent(V)}},[b,y,s,n]);const m=l.useRef(p(s)?!1:s);return e.jsx(S.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,required:u,disabled:c,name:h,value:o,form:f,...r,tabIndex:-1,ref:g,style:{...r.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});K.displayName=G;function ye(t){return typeof t=="function"}function p(t){return t==="indeterminate"}function Q(t){return p(t)?"indeterminate":t?"checked":"unchecked"}function ve({className:t,...r}){return e.jsx(H,{"data-slot":"checkbox",className:oe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(W,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(ue,{className:"size-3.5"})})})}const je=J({email:I().min(1,"Email is required").email("Please enter a valid email address"),password:I().min(1,"Password is required").min(6,"Password must be at least 6 characters")}),ke=async t=>{const{error:r,data:a}=await Y.signIn.email({email:t.email,password:t.password});if(r)throw r;return a};function Ne(){const t=X(),r=$(),[a,d]=l.useState(!1),[n,s]=l.useState(!1),i=ee({resolver:te(je),defaultValues:{email:"",password:""}}),{mutateAsync:u,isPending:c}=re({mutationFn:ke,onSuccess:o=>{r.resetQueries(),o!=null&&o.user.emailVerified?t({to:"/dashboard"}):t({to:"/pay"}),R.success(`Hey ${o.user.name}, welcome back!`)},onError:o=>{R.error(o.message||"Error signing you in. Try again")}}),h=async o=>{await u(o)};return e.jsx("div",{className:"z-10 bg-white min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full pt-[80px] md:pt-8 p-8",children:[e.jsx("div",{className:"md:hidden w-full flex items-center justify-center pb-[50px] p-0",children:e.jsx(ae,{})}),e.jsxs("div",{className:"text-center mb-8 space-y-[24px]",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back, Gamer"}),e.jsx("p",{className:"text-[hsla(221,39%,11%,1)] text-sm",children:"Log in to continue your learning and level up."})]}),e.jsx(se,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(h),className:"space-y-6",children:[e.jsx(_,{control:i.control,name:"email",render:({field:o})=>e.jsxs(B,{children:[e.jsx(F,{className:"text-sm font-medium text-gray-700",children:"Email:"}),e.jsx(z,{children:e.jsx(L,{type:"email",className:"border-teal-400 focus:border-teal-500 focus:ring-teal-500",...o})}),e.jsx(M,{})]})}),e.jsx(_,{control:i.control,name:"password",render:({field:o})=>e.jsxs(B,{children:[e.jsx(F,{className:"text-sm font-medium text-gray-700",children:"Password:"}),e.jsx(z,{children:e.jsxs("div",{className:"relative",children:[e.jsx(L,{type:a?"text":"password",placeholder:"Enter info",className:"pr-10 focus:border-teal-500 focus:ring-teal-500",...o}),e.jsx("button",{type:"button",onClick:()=>d(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:a?e.jsx(me,{className:"h-5 w-5"}):e.jsx(he,{className:"h-5 w-5"})})]})}),e.jsx(M,{})]})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Forgot your password? "}),e.jsx("button",{type:"button",className:"text-[hsla(160,84%,39%,1)] hover:text-teal-700 font-medium cursor-pointer",onClick:()=>{t({to:"/reset-password"})},children:"Reset here"})]}),e.jsxs("div",{className:"flex items-center gap-[10px]",children:[e.jsx(ve,{checked:n,onCheckedChange:s,className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Remember Me"})]}),e.jsx(ne,{type:"submit",disabled:c,className:"w-full h-[50px] text-bold text-base text-white py-4 px-8 mt-6",children:c?"Signing In...":"Sign In"})]})}),e.jsxs("div",{className:"text-center mt-2 mb-4",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Already have an account? "}),e.jsx(C,{to:"/register",className:"text-[hsla(160,84%,39%,1)] hover:text-cyan-700 text-sm font-medium",children:"Sign up"})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500",children:["By signing in, you agree to our"," ",e.jsx(C,{to:"/terms",className:"text-[hsla(160,84%,39%,1)] hover:text-cyan-700",children:"Terms of Service"})," ","and"," ",e.jsx(C,{to:"/privacy",className:"text-[hsla(160,84%,39%,1)] hover:text-cyan-700",children:"Privacy Policy"}),"."]})]})})}const Le=function(){return e.jsxs("div",{className:"relative bg-white w-full min-h-screen flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-32 left-1/4 w-16 h-16 rounded-full border-2 border-red-400 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-400/30"})}),e.jsx("div",{className:"absolute top-48 left-1/3 w-12 h-12 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-cyan-400 rotate-45 bg-cyan-400/20"})}),e.jsx("div",{className:"absolute top-44 right-1/3 w-12 h-12 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-gray-400",children:e.jsxs("div",{className:"w-full h-full flex items-center justify-center",children:[e.jsx("div",{className:"w-6 h-0.5 bg-gray-400 absolute"}),e.jsx("div",{className:"w-0.5 h-6 bg-gray-400 absolute"})]})})}),e.jsx("div",{className:"absolute bottom-32 left-1/4",children:e.jsxs("div",{className:"relative w-16 h-16",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-16 h-4 bg-gray-600/40 transform -translate-y-1/2 rounded"}),e.jsx("div",{className:"absolute left-1/2 top-0 w-4 h-16 bg-gray-600/40 transform -translate-x-1/2 rounded"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-6 h-6 bg-gray-700/60 rounded-full transform -translate-x-1/2 -translate-y-1/2"})]})}),e.jsx("div",{className:"absolute bottom-48 right-1/4 w-20 h-12 bg-gray-600/20 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-500/60 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500/60 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500/60 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-500/60 rounded-full"})]})})]}),e.jsxs("div",{className:"min-h-screen h-fit container flex flex-col md:flex-row md:items-start justify-center gap-x-3 gap-y-5 mx-auto",children:[e.jsx(Z,{}),e.jsx(Ne,{})]})]})};export{Le as component};
