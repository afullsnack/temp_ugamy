var w=e=>{throw TypeError(e)};var C=(e,t,s)=>t.has(e)||w("Cannot "+s);var r=(e,t,s)=>(C(e,t,"read from private field"),s?s.call(e):t.get(e)),f=(e,t,s)=>t.has(e)?w("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),b=(e,t,s,i)=>(C(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),v=(e,t,s)=>(C(e,t,"access private method"),s);import{S as K,f as j,h as M,g as D,n as P,c as k,r as y,i as N,k as U,j as q,l as L}from"./main-sOPGwSMr.js";import{a as $}from"./button-CKUIHMt9.js";var l,c,o,n,h,O,g,R,A=(R=class extends K{constructor(t,s){super();f(this,h);f(this,l);f(this,c);f(this,o);f(this,n);b(this,l,t),this.setOptions(s),this.bindMethods(),v(this,h,O).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=r(this,l).defaultMutationOptions(t),j(this.options,s)||r(this,l).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,o),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&M(s.mutationKey)!==M(this.options.mutationKey)?this.reset():((i=r(this,o))==null?void 0:i.state.status)==="pending"&&r(this,o).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,o))==null||t.removeObserver(this)}onMutationUpdate(t){v(this,h,O).call(this),v(this,h,g).call(this,t)}getCurrentResult(){return r(this,c)}reset(){var t;(t=r(this,o))==null||t.removeObserver(this),b(this,o,void 0),v(this,h,O).call(this),v(this,h,g).call(this)}mutate(t,s){var i;return b(this,n,s),(i=r(this,o))==null||i.removeObserver(this),b(this,o,r(this,l).getMutationCache().build(r(this,l),this.options)),r(this,o).addObserver(this),r(this,o).execute(t)}},l=new WeakMap,c=new WeakMap,o=new WeakMap,n=new WeakMap,h=new WeakSet,O=function(){var s;const t=((s=r(this,o))==null?void 0:s.state)??D();b(this,c,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},g=function(t){P.batch(()=>{var s,i,a,d,u,p,S,x;if(r(this,n)&&this.hasListeners()){const m=r(this,c).variables,E=r(this,c).context;(t==null?void 0:t.type)==="success"?((i=(s=r(this,n)).onSuccess)==null||i.call(s,t.data,m,E),(d=(a=r(this,n)).onSettled)==null||d.call(a,t.data,null,m,E)):(t==null?void 0:t.type)==="error"&&((p=(u=r(this,n)).onError)==null||p.call(u,t.error,m,E),(x=(S=r(this,n)).onSettled)==null||x.call(S,void 0,t.error,m,E))}this.listeners.forEach(m=>{m(r(this,c))})})},R);function B(e,t){const s=k(),[i]=y.useState(()=>new A(s,e));y.useEffect(()=>{i.setOptions(e)},[i,e]);const a=y.useSyncExternalStore(y.useCallback(u=>i.subscribe(P.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=y.useCallback((u,p)=>{i.mutate(u,p).catch(N)},[i]);if(a.error&&U(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:d,mutateAsync:a.mutate}}var I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F=I.reduce((e,t)=>{const s=$(`Primitive.${t}`),i=y.forwardRef((a,d)=>{const{asChild:u,...p}=a,S=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(S,{...p,ref:d})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function G(e,t){e&&L.flushSync(()=>e.dispatchEvent(t))}export{F as P,G as d,B as u};
